/*! tinytornado v0.1.4 - 2014-09-28 02:09:47 
Vince Allen |Brooklyn, NY | vince@vinceallen.com | @vinceallenvince | License: MIT */

!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.TinyTornado=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c={name:"Utils"};c.extend=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a._superClass=b.prototype},c.getRandomNumber=function(a,b,c){return c?Math.random()*(b-a)+a:(b++,Math.floor(Math.random()*(b-a))+a)},c.getWindowSize=function(){var a={width:!1,height:!1};return"undefined"!=typeof window.innerWidth?(a.width=window.innerWidth,a.height=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth?(a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight):"undefined"!=typeof document.body&&(a.width=document.body.clientWidth,a.height=document.body.clientHeight),a},c.map=function(a,b,c,d,e){var f=(a-b)/(c-b);return f*(e-d)+d},c.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},c.degreesToRadians=function(a){if("undefined"!=typeof a)return 2*Math.PI*(a/360);if("undefined"!=typeof console)throw new Error("Error: Utils.degreesToRadians is missing degrees param.")},c.radiansToDegrees=function(a){if("undefined"!=typeof a)return a*(180/Math.PI);if("undefined"!=typeof console)throw new Error("Error: Utils.radiansToDegrees is missing radians param.")},c.constrain=function(a,b,c){return a>c?c:b>a?b:a},c.isInside=function(a,b){if(!a||!b)throw new Error("isInside() requires both an object and a container.");return a.width=a.width||0,a.height=a.height||0,b.width=b.width||0,b.height=b.height||0,a.location.x+a.width/2>b.location.x-b.width/2&&a.location.x-a.width/2<b.location.x+b.width/2&&a.location.y+a.height/2>b.location.y-b.height/2&&a.location.y-a.height/2<b.location.y+b.height/2?!0:!1},c.capitalizeFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},b.exports=c},{}],2:[function(a,b){function c(a,b){var c=a||0,d=b||0;this.x=c,this.y=d}c.VectorSub=function(a,b){return new c(a.x-b.x,a.y-b.y)},c.VectorAdd=function(a,b){return new c(a.x+b.x,a.y+b.y)},c.VectorMult=function(a,b){return new c(a.x*b,a.y*b)},c.VectorDiv=function(a,b){return new c(a.x/b,a.y/b)},c.VectorDistance=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},c.VectorMidPoint=function(a,b){return c.VectorAdd(a,b).div(2)},c.VectorAngleBetween=function(a,b){var c=a.dot(b),d=Math.acos(c/(a.mag()*b.mag()));return d},c.prototype.name="Vector",c.prototype.clone=function(){function a(){}return a.prototype=this,new a},c.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},c.prototype.sub=function(a){return this.x-=a.x,this.y-=a.y,this},c.prototype.mult=function(a){return this.x*=a,this.y*=a,this},c.prototype.div=function(a){return this.x=this.x/a,this.y=this.y/a,this},c.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},c.prototype.limit=function(a,b){var c=a||null,d=b||null;return c&&this.mag()>c&&(this.normalize(),this.mult(c)),d&&this.mag()<d&&(this.normalize(),this.mult(d)),this},c.prototype.normalize=function(){var a=this.mag();return 0!==a?this.div(a):void 0},c.prototype.distance=function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-this.y,2))},c.prototype.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this.x,e=this.y;return this.x=d*b-e*c,this.y=d*c+e*b,this},c.prototype.midpoint=function(a){return c.VectorAdd(this,a).div(2)},c.prototype.dot=function(a){return this.z&&a.z?this.x*a.x+this.y*a.y+this.z*a.z:this.x*a.x+this.y*a.y},b.exports=c},{}],3:[function(a,b){function c(){c._idCount++}var d=a("vector2d-lib");c._idCount=0,c._stylePosition="transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -webkit-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -moz-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -o-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -ms-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>);",c.prototype.init=function(a,b){if(!a||"object"!=typeof a)throw new Error("Item requires an instance of World.");this.world=a;var e=b||{};this.name="undefined"!=typeof this.name?this.name:e.name||"Item",this.width="undefined"!=typeof this.width?this.width:"undefined"==typeof e.width?10:e.width,this.height="undefined"!=typeof this.height?this.height:"undefined"==typeof e.height?10:e.height,this.scale="undefined"!=typeof this.scale?this.scale:"undefined"==typeof e.scale?1:e.scale,this.angle="undefined"!=typeof this.angle?this.angle:e.angle||0,this.colorMode="undefined"!=typeof this.colorMode?this.colorMode:e.colorMode||"rgb",this.color="undefined"!=typeof this.color?this.color:e.color||[200,200,200],this.borderWidth="undefined"!=typeof this.borderWidth?this.borderWidth:e.borderWidth||0,this.borderStyle="undefined"!=typeof this.borderStyle?this.borderStyle:e.borderStyle||"none",this.borderColor="undefined"!=typeof this.borderColor?this.borderColor:e.borderColor||[255,255,255],this.borderRadius="undefined"!=typeof this.borderRadius?this.borderRadius:e.borderRadius||0,this.boxShadowOffsetX="undefined"!=typeof this.boxShadowOffsetX?this.boxShadowOffsetX:e.boxShadowOffsetX||0,this.boxShadowOffsetY="undefined"!=typeof this.boxShadowOffsetY?this.boxShadowOffsetY:e.boxShadowOffsetY||0,this.boxShadowBlur="undefined"!=typeof this.boxShadowBlur?this.boxShadowBlur:e.boxShadowBlur||0,this.boxShadowSpread="undefined"!=typeof this.boxShadowSpread?this.boxShadowSpread:e.boxShadowSpread||0,this.boxShadowColor="undefined"!=typeof this.boxShadowColor?this.boxShadowColor:e.boxShadowColor||[255,255,255],this.opacity="undefined"!=typeof this.opacity?this.opacity:"undefined"==typeof e.opacity?1:e.opacity,this.zIndex="undefined"!=typeof this.zIndex?this.zIndex:e.zIndex||0,this.visibility="undefined"!=typeof this.visibility?this.visibility:e.visibility||"visible",this.mass="undefined"!=typeof this.mass?this.mass:"undefined"==typeof e.mass?10:e.mass,this.acceleration="undefined"!=typeof this.acceleration?this.acceleration:e.acceleration||new d,this.velocity="undefined"!=typeof this.velocity?this.velocity:e.velocity||new d,this.location="undefined"!=typeof this.location?this.location:e.location||new d(this.world.width/2,this.world.height/2),this.maxSpeed="undefined"!=typeof this.maxSpeed?this.maxSpeed:"undefined"==typeof e.maxSpeed?10:e.maxSpeed,this.minSpeed="undefined"!=typeof this.minSpeed?this.minSpeed:e.minSpeed||0,this.bounciness="undefined"!=typeof this.bounciness?this.bounciness:"undefined"==typeof e.bounciness?.5:e.bounciness,this.life="undefined"!=typeof this.life?this.life:e.life||0,this.lifespan="undefined"!=typeof this.lifespan?this.lifespan:"undefined"==typeof e.lifespan?-1:e.lifespan,this.checkWorldEdges="undefined"!=typeof this.checkWorldEdges?this.checkWorldEdges:"undefined"==typeof e.checkWorldEdges?!0:e.checkWorldEdges,this.wrapWorldEdges="undefined"!=typeof this.wrapWorldEdges?this.wrapWorldEdges:!!e.wrapWorldEdges,this.beforeStep="undefined"!=typeof this.beforeStep?this.beforeStep:e.beforeStep||function(){},this.afterStep="undefined"!=typeof this.afterStep?this.afterStep:e.afterStep||function(){},this.controlCamera="undefined"!=typeof this.controlCamera?this.controlCamera:!!e.controlCamera,this._force=this._force||new d,this.id=this.name+c._idCount,this.el||(this.el=document.createElement("div"),this.el.id=this.id,this.el.className="item "+this.name.toLowerCase(),this.el.style.position="absolute",this.el.style.top="-5000px",this.world.add(this.el))},c.prototype.step=function(){var a=this.location.x,b=this.location.y;this.beforeStep.call(this),this.applyForce(this.world.gravity),this.applyForce(this.world.wind),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed,this.minSpeed),this.location.add(this.velocity),this.checkWorldEdges?this._checkWorldEdges():this.wrapWorldEdges&&this._wrapWorldEdges(),this.controlCamera&&this._checkCameraEdges(a,b,this.location.x,this.location.y),this.acceleration.mult(0),this.afterStep.call(this)},c.prototype.applyForce=function(a){return a?(this._force.x=a.x,this._force.y=a.y,this._force.div(this.mass),this.acceleration.add(this._force),this.acceleration):void 0},c.prototype._checkWorldEdges=function(){var a=this.world.width,b=this.world.height,c=this.location,d=this.velocity,e=this.width*this.scale,f=this.height*this.scale,g=this.bounciness;c.x+e/2>a?(c.x=a-e/2,d.x*=-1*g):c.x<e/2&&(c.x=e/2,d.x*=-1*g),c.y+f/2>b?(c.y=b-f/2,d.y*=-1*g):c.y<f/2&&(c.y=f/2,d.y*=-1*g)},c.prototype._wrapWorldEdges=function(){var a=this.world.width,b=this.world.height,c=this.location,d=this.width*this.scale,e=this.height*this.scale;c.x-d/2>a?c.x=-d/2:c.x<-d/2&&(c.x=a+d/2),c.y-e/2>b?c.y=-e/2:c.y<-e/2&&(c.y=b+e/2)},c.prototype._checkCameraEdges=function(a,b,c,d){this.world._camera.x=a-c,this.world._camera.y=b-d},c.prototype.draw=function(){var a=this.getCSSText({x:this.location.x-this.width/2,y:this.location.y-this.height/2,angle:this.angle,scale:this.scale||1,width:this.width,height:this.height,colorMode:this.colorMode,color0:this.color[0],color1:this.color[1],color2:this.color[2],opacity:this.opacity,zIndex:this.zIndex,visibility:this.visibility});this.el.style.cssText=a},c.prototype.getCSSText=function(a){return c._stylePosition.replace(/<x>/g,a.x).replace(/<y>/g,a.y).replace(/<angle>/g,a.angle).replace(/<scale>/g,a.scale)+"width: "+a.width+"px; height: "+a.height+"px; background-color: "+a.colorMode+"("+a.color0+", "+a.color1+("hsl"===a.colorMode?"%":"")+", "+a.color2+("hsl"===a.colorMode?"%":"")+"); opacity: "+a.opacity+"; z-index: "+a.zIndex+"; visibility: "+a.visibility+";"},b.exports=c},{"vector2d-lib":2}],4:[function(a,b){b.exports={Item:a("./item"),System:a("./system"),Utils:a("drawing-utils-lib"),Vector:a("vector2d-lib"),World:a("./world")}},{"./item":3,"./system":5,"./world":6,"drawing-utils-lib":1,"vector2d-lib":2}],5:[function(a,b){var c=a("./item"),d=a("./world"),e=a("vector2d-lib"),f=a("drawing-utils-lib"),g=a("fpsdisplay");window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var h={name:"System"};h.Classes={Item:c},h.gravity=new e(0,1),h.wind=new e,h._records=[],h._pool=[],h.mouse={location:new e,lastLocation:new e,velocity:new e},h.clock=0,h.frameFunction=null,h.setup=function(a){var b=a||function(){};document.body.onorientationchange=h.updateOrientation,f.addEvent(document,"mousemove",h._recordMouseLoc),f.addEvent(window,"touchstart",h._recordMouseLoc),f.addEvent(window,"touchmove",h._recordMouseLoc),f.addEvent(window,"touchend",h._recordMouseLoc),f.addEvent(window,"keyup",h._keyup),h.setupFunc=b,h.setupFunc.call(this)},h.init=function(a,b){h.setup(a,b)},h._addWorld=function(a){h._records.push(a)},h.add=function(a,b,e){for(var f,g=a||"Item",i=b||{},j=e||h.firstWorld(),k=this._records,l=0,m=h._pool.length;m>l;l++)if(h._pool[l].name===g){f=h._cleanObj(h._pool.splice(l,1)[0]);break}return f||(f="world"===g.toLowerCase()?new d(i):h.Classes[g]?new h.Classes[g](i):new c),i.name=g,f.init(j,i),k.push(f),f},h._cleanObj=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b];return a},h.remove=function(a){var b,c,d=h._records;for(b=0,c=d.length;c>b;b++)if(d[b].id===a.id){d[b].el&&(d[b].el.style.visibility="hidden"),h._pool[h._pool.length]=d.splice(b,1)[0];break}},h.destroy=function(a){h.remove(a)},h.loop=function(a){var b,c=h._records,d=h._records.length,e=a||function(){};for(h.frameFunction||(h.frameFunction=e),b=d-1;b>=0;b-=1)if(c[b]&&c[b].step&&!c[b].world.pauseStep){if(c[b].life<c[b].lifespan)c[b].life+=1;else if(-1!==c[b].lifespan){h.remove(c[b]);continue}c[b].step()}for(d=h._records.length,b=d-1;b>=0;b-=1)c[b].draw();h.clock++,g.active&&g.update(d),h.frameFunction.call(this),"undefined"!=typeof window.requestAnimationFrame&&window.requestAnimationFrame(h.loop)},h._stepForward=function(){var a,b,c,d,e=h._records,f=h.allWorlds();for(a=0,c=f.length;c>a;a++){for(d=f[a],d.pauseStep=!0,b=e.length-1;b>=0;b-=1)e[b].step&&e[b].step();for(b=e.length-1;b>=0;b-=1)e[b].draw&&e[b].draw()}h.clock++},h._recordMouseLoc=function(a){var b,c=h.firstWorld();h.mouse.lastLocation.x=h.mouse.location.x,h.mouse.lastLocation.y=h.mouse.location.y,a.changedTouches&&(b=a.changedTouches[0]),a.pageX&&a.pageY?(h.mouse.location.x=f.map(a.pageX,0,window.innerWidth,0,c.width),h.mouse.location.y=f.map(a.pageY,0,window.innerHeight,0,c.height)):a.clientX&&a.clientY?(h.mouse.location.x=f.map(a.clientX,0,window.innerWidth,0,c.width),h.mouse.location.y=f.map(a.clientY,0,window.innerHeight,0,c.height)):b&&(h.mouse.location.x=b.pageX,h.mouse.location.y=b.pageY),h.mouse.velocity.x=h.mouse.lastLocation.x-h.mouse.location.x,h.mouse.velocity.y=h.mouse.lastLocation.y-h.mouse.location.y},h.firstWorld=function(){return this._records.length?this._records[0]:null},h.allWorlds=function(){return h.getAllItemsByName("World")},h.getAllItemsByName=function(a,b){var c,d,e=[],f=b||this._records;for(c=0,d=f.length;d>c;c++)f[c].name===a&&(e[e.length]=f[c]);return e},h.getAllItemsByAttribute=function(a,b,c){var d,e,f=[],g=this._records,h="undefined"!=typeof b?b:null,i=c||!1;for(d=0,e=g.length;e>d;d++)if("undefined"!=typeof g[d][a]){if(null!==h&&g[d][a]!==h)continue;if(i&&g[d].name!==i)continue;f[f.length]=g[d]}return f},h.updateOrientation=function(){var a,b=h.allWorlds(),c=b.length;for(a=0;c>a;a++)b[a].width=b[a].el.scrollWidth,b[a].height=b[a].el.scrollHeight},h._keyup=function(a){var b,c,d,e=h.allWorlds();switch(a.keyCode){case 39:h._stepForward();break;case 80:for(b=0,c=e.length;c>b;b++)d=e[b],d.pauseStep=!d.pauseStep;break;case 82:h._resetSystem();break;case 83:h._toggleFPS()}},h._resetSystem=function(){var a,b,c,d=h.allWorlds();for(a=0,b=d.length;b>a;a++)for(c=d[a],c.pauseStep=!1,c.pauseDraw=!1;c.el.firstChild;)c.el.removeChild(c.el.firstChild);h._records=[],h._pool=[],h.clock=0,h.setup(h.setupFunc)},h._toggleFPS=function(){g.fps?g.active=!g.active:g.init(),g.active?g.show():g.hide()},b.exports=h},{"./item":3,"./world":6,"drawing-utils-lib":1,fpsdisplay:7,"vector2d-lib":2}],6:[function(a,b){function c(a){e.call(this);var b=a||{};this.el=b.el||document.body,this.name="World",this.world={}}var d=a("vector2d-lib"),e=a("./item"),f=a("drawing-utils-lib");f.extend(c,e),c.prototype.init=function(a,b){c._superClass.init.call(this,this.world,b);var e=b||{};this.color=e.color||[0,0,0],this.width=e.width||this.el.scrollWidth,this.height=e.height||this.el.scrollHeight,this.location=e.location||new d(document.body.scrollWidth/2,document.body.scrollHeight/2),this.borderWidth=e.borderWidth||0,this.borderStyle=e.borderStyle||"none",this.borderColor=e.borderColor||[0,0,0],this.gravity=e.gravity||new d(0,1),this.c="undefined"!=typeof e.c?e.c:.1,this.pauseStep=!!e.pauseStep,this.pauseDraw=!!e.pauseDraw,this.el.className=this.name.toLowerCase(),this._camera=this._camera||new d},c.prototype.add=function(a){this.el.appendChild(a)},c.prototype.step=function(){this.location.add(this._camera)},c.prototype.draw=function(){var a=this.getCSSText({x:this.location.x-this.width/2,y:this.location.y-this.height/2,angle:this.angle,scale:this.scale||1,width:this.width,height:this.height,color0:this.color[0],color1:this.color[1],color2:this.color[2],borderWidth:this.borderWidth,borderStyle:this.borderStyle,borderColor1:this.borderColor[0],borderColor2:this.borderColor[1],borderColor3:this.borderColor[2]});this.el.style.cssText=a},c.prototype.getCSSText=function(a){return e._stylePosition.replace(/<x>/g,a.x).replace(/<y>/g,a.y).replace(/<angle>/g,a.angle).replace(/<scale>/g,a.scale)+"width: "+a.width+"px; height: "+a.height+"px; background-color: rgb("+a.color0+", "+a.color1+", "+a.color2+"); border: "+a.borderWidth+"px "+a.borderStyle+" rgb("+a.borderColor1+", "+a.borderColor2+", "+a.borderColor3+")"},b.exports=c},{"./item":3,"drawing-utils-lib":1,"vector2d-lib":2}],7:[function(a,b){function c(){}c.name="FPSDisplay",c.active=!1,c.fps=0,c.totalItems=0,c._time=Date.now(),c._timeLastFrame=c._time,c._timeLastSecond=c._time,c._frameCount=0,c.init=function(){if(!this.el){this.active=!0,this.el=document.createElement("div"),this.el.id="FPSDisplay",this.el.className="fpsDisplay",this.el.style.backgroundColor="black",this.el.style.color="white",this.el.style.fontFamily="Helvetica",this.el.style.padding="0.5em",this.el.style.opacity="0.5",this.el.style.position="fixed",this.el.style.top=0,this.el.style.right=0,this.el.style.left=0,this.el.style.zIndex=1e3;var a=document.createElement("span");a.className="fpsDisplayLabel",a.style.marginLeft="0.5em",b=document.createTextNode("total elements: "),a.appendChild(b),this.el.appendChild(a),this.totalElementsValue=document.createTextNode("0"),this.el.appendChild(this.totalElementsValue),a=document.createElement("span"),a.className="fpsDisplayLabel",a.style.marginLeft="0.5em";var b=document.createTextNode("fps: ");a.appendChild(b),this.el.appendChild(a),this.fpsValue=document.createTextNode("0"),this.el.appendChild(this.fpsValue),document.body.appendChild(this.el)}},c.update=function(a){this.totalItems=a||0,this._time=Date.now(),this._frameCount++,this._time>this._timeLastSecond+1e3&&(this.fps=this._frameCount,this._timeLastSecond=this._time,this._frameCount=0,this.fpsValue.nodeValue=this.fps,this.totalElementsValue.nodeValue=this.totalItems)},c.hide=function(){this.el.style.display="none",c.active=!1},c.show=function(){this.el.style.display="block",c.active=!0},b.exports=c},{}],8:[function(a,b){var c={};c.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],c.p=[],c.perm=[],c.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]],c.config=function(a){var b,d=c.p,e=c.perm;for("undefined"==typeof a&&(a=Math),b=0;256>b;b+=1)c.p[b]=Math.floor(256*a.random());for(b=0;512>b;b+=1)e[b]=d[255&b]},c.noise=function(a,b){{var d=(c.grad3,c.p);c.perm,c.simplex}d.length||c.config();var e,f,g,h,i,j=.5*(Math.sqrt(3)-1),k=(a+b)*j,l=Math.floor(a+k),m=Math.floor(b+k),n=(3-Math.sqrt(3))/6,o=(l+m)*n,p=l-o,q=m-o,r=a-p,s=b-q;r>s?(h=1,i=0):(h=0,i=1);var t=r-h+n,u=s-i+n,v=r-1+2*n,w=s-1+2*n,x=255&l,y=255&m,z=this.perm[x+this.perm[y]]%12,A=this.perm[x+h+this.perm[y+i]]%12,B=this.perm[x+1+this.perm[y+1]]%12,C=.5-r*r-s*s;0>C?e=0:(C*=C,e=C*C*this.dot(this.grad3[z],r,s));var D=.5-t*t-u*u;0>D?f=0:(D*=D,f=D*D*this.dot(this.grad3[A],t,u));var E=.5-v*v-w*w;return 0>E?g=0:(E*=E,g=E*E*this.dot(this.grad3[B],v,w)),70*(e+f+g)},c.dot=function(a,b,c){return a[0]*b+a[1]*c},b.exports=c},{}],9:[function(a,b){function c(){d.call(this)}var d=a("./item"),e=a("./system"),f=a("burner").Utils,g=a("burner").Vector;f.extend(c,d),c.prototype.init=function(a,b){c._superClass.init.call(this,a,b);var d=b||{};this.scale=d.scale||0,this.color=d.color||[0,0,0],this.location=d.location||new g(this.world.width/2,this.world.height/2),this.frames=d.frames||[],this.currentFrame="undefined"!=typeof d.currentFrame?d.currentFrame:0,this.loop="undefined"!=typeof d.loop?d.loop:!0,this.frameDuration=d.frameDuration||3,this.zIndex=-d.zIndex||-1,this._frameCount=this.frameDuration},c.prototype.step=function(){this._frameCount<this.frameDuration?this._frameCount++:(this.advanceFrame(),this._frameCount=0)},c.prototype.advanceFrame=function(){var a,b,c,d;if(this.frames.length)for(d=this.frames[this.currentFrame],a=0,b=d.items.length;b>a;a++)c=d.items[a],e.add("AnimUnit",{location:new g(this.location.x+c.x,this.location.y+c.y),color:c.color,scale:1,opacity:c.opacity,parent:this,zIndex:-this.zIndex},this.world);this.currentFrame+1<this.frames.length?this.currentFrame++:this.loop&&(this.currentFrame=0)},b.exports=c},{"./item":11,"./system":13,burner:4}],10:[function(a,b){function c(){d.call(this)}var d=a("./item"),e=a("./system"),f=a("burner").Utils;f.extend(c,d),c.prototype.init=function(a,b){if(!b.parent||!b.location)throw new Error("AnimUnit.init: parent amd location required.");c._superClass.init.call(this,a,b),this.parent=b.parent,this.location=b.location,this.scale=b.scale||1,this.color=b.color||[100,100,100],this.zIndex=b.zIndex||1,this.currentFrame=0},c.prototype.step=function(){return this.parent._frameCount>=this.parent.frameDuration?(e.remove(this),e._records.length):void 0},b.exports=c},{"./item":11,"./system":13,burner:4}],11:[function(a,b){function c(){c._idCount++}var d=a("burner").Vector;c._idCount=0,c.prototype.init=function(a,b){if(!a||"object"!=typeof a)throw new Error("Item requires an instance of World.");this.world=a;var e=b||{};this.name="undefined"!=typeof this.name?this.name:e.name||"Item",this.blur="undefined"!=typeof this.blur?this.blur:e.blur||0,this.scale="undefined"!=typeof this.scale?this.scale:"undefined"==typeof e.scale?1:e.scale,this.angle="undefined"!=typeof this.angle?this.angle:e.angle||0,this.colorMode="undefined"!=typeof this.colorMode?this.colorMode:e.colorMode||"rgb",this.color="undefined"!=typeof this.color?this.color:e.color||[200,200,200],this.opacity="undefined"!=typeof this.opacity?this.opacity:"undefined"==typeof e.opacity?1:e.opacity,this.zIndex="undefined"!=typeof this.zIndex?this.zIndex:e.zIndex||0,this.mass="undefined"!=typeof this.mass?this.mass:"undefined"==typeof e.mass?10:e.mass,this.acceleration="undefined"!=typeof this.acceleration?this.acceleration:e.acceleration||new d,this.velocity="undefined"!=typeof this.velocity?this.velocity:e.velocity||new d,this.location="undefined"!=typeof this.location?this.location:e.location||new d(this.world.width/2,this.world.height/2),this.maxSpeed="undefined"!=typeof this.maxSpeed?this.maxSpeed:"undefined"==typeof e.maxSpeed?10:e.maxSpeed,this.minSpeed="undefined"!=typeof this.minSpeed?this.minSpeed:e.minSpeed||0,this.bounciness="undefined"!=typeof this.bounciness?this.bounciness:"undefined"==typeof e.bounciness?.5:e.bounciness,this.life="undefined"!=typeof this.life?this.life:e.life||0,this.lifespan="undefined"!=typeof this.lifespan?this.lifespan:"undefined"==typeof e.lifespan?-1:e.lifespan,this.checkWorldEdges="undefined"!=typeof this.checkWorldEdges?this.checkWorldEdges:"undefined"==typeof e.checkWorldEdges?!0:e.checkWorldEdges,this.wrapWorldEdges="undefined"!=typeof this.wrapWorldEdges?this.wrapWorldEdges:!!e.wrapWorldEdges,this.beforeStep="undefined"!=typeof this.beforeStep?this.beforeStep:e.beforeStep||function(){},this.afterStep="undefined"!=typeof this.afterStep?this.afterStep:e.afterStep||function(){},this._force=this._force||new d,this.id=this.name+c._idCount},c.prototype.step=function(){this.location.x,this.location.y;this.beforeStep.call(this),this.applyForce(this.world.gravity),this.applyForce(this.world.wind),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed,this.minSpeed),this.location.add(this.velocity),this.checkWorldEdges?this._checkWorldEdges():this.wrapWorldEdges&&this._wrapWorldEdges(),this.acceleration.mult(0),this.afterStep.call(this)},c.prototype.applyForce=function(a){return a?(this._force.x=a.x,this._force.y=a.y,this._force.div(this.mass),this.acceleration.add(this._force),this.acceleration):void 0},c.prototype._checkWorldEdges=function(){return this.location.y<0?(this.velocity.mult(-this.bounciness),void(this.location.y=0)):this.location.x>this.world.width?(this.velocity.mult(-this.bounciness),void(this.location.x=this.world.width)):this.location.y>this.world.height?(this.velocity.mult(-this.bounciness),void(this.location.y=this.world.height)):this.location.x<0?(this.velocity.mult(-this.bounciness),void(this.location.x=0)):void 0},c.prototype._wrapWorldEdges=function(){return this.location.y<0?void(this.location.y=this.world.height):this.location.x>this.world.width?void(this.location.x=0):this.location.y>this.world.height?void(this.location.y=0):this.location.x<0?void(this.location.x=this.world.width):void 0},b.exports=c},{burner:4}],12:[function(a,b){var c={Anim:a("./anim"),Item:a("./item"),SimplexNoise:a("quietriot"),System:a("./system"),Vector:a("burner").Vector,Utils:a("burner").Utils};c.System.Classes={Anim:a("./anim"),AnimUnit:a("./animunit")},b.exports=c},{"./anim":9,"./animunit":10,"./item":11,"./system":13,burner:4,quietriot:8}],13:[function(a,b){var c=a("./item"),d=a("fpsdisplay"),e=a("burner").Utils,f=a("burner").Vector,g=a("./world");window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var h={name:"System"};h.Classes={Item:c},h.gravity=new f(0,1),h.wind=new f,h._records=[],h._pool=[],h.mouse={location:new f,lastLocation:new f,velocity:new f},h.clock=0,h.frameFunction=null,h._buffers={},h.zSort=0,h.saveData=!1,h.saveStartFrame=-1,h.saveEndFrame=-1,h.saveDataTimeoutLength=500,h.saveItemProperties={id:!0,name:!0,scale:!0,location:!0,velocity:!0,angle:!0,minSpeed:!0,maxSpeed:!0,hue:!0,saturation:!0,lightness:!0,color:!0,opacity:!0},h.saveWorldProperties={id:!0,name:!0,width:!0,height:!0,color:!0,resolution:!0,colorMode:!0},h.data=null,h.getAllWorlds=function(){return h.getAllItemsByName("World")},h.getAllBuffers=function(){return h._buffers},h.setup=function(a){var b=a||function(){};document.body.onorientationchange=h.updateOrientation,e.addEvent(document,"mousemove",h._recordMouseLoc),e.addEvent(window,"touchstart",h._recordMouseLoc),e.addEvent(window,"touchmove",h._recordMouseLoc),e.addEvent(window,"touchend",h._recordMouseLoc),e.addEvent(window,"keyup",h._keyup),h.setupFunc=b,h.setupFunc.call(this)},h.add=function(a,b,d){for(var e,f=a||"Item",i=b||{},j=d||h.firstWorld(),k=this._records,l=0,m=h._pool.length;m>l;l++)if(h._pool[l].name===f){e=h._cleanObj(h._pool.splice(l,1)[0]);break}return e||(e="world"===f.toLowerCase()?new g(i):h.Classes[f]?new h.Classes[f](i):new c),i.name=f,e.init(j,i),k.push(e),e},h._cleanObj=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b];return a},h.remove=function(a){var b,c,d=h._records;for(b=0,c=d.length;c>b;b++)if(d[b].id===a.id){d[b].el&&(d[b].el.style.visibility="hidden"),h._pool[h._pool.length]=d.splice(b,1)[0];break}},h.loop=function(a){var b,c,e=h._records,f=h._records.length,i=a||function(){},j=h.getAllWorlds(),k=h.getAllBuffers(),l="";if(h.frameFunction||(h.frameFunction=i),!h.checkFramesSaved()){for(h.saveData&&(h.data=h._resetData()),b=f-1;b>=0;b-=1)if(c=e[b],c&&c.step&&!c.world.pauseStep){if(c.life<c.lifespan)c.life+=1;else if(-1!==c.lifespan){h.remove(c);continue}if(c instanceof g&&(h._buffers[c.id]=""),c.step(),h.saveData&&"World"!==c.name&&c.opacity){if(!h._checkSaveFrame())continue;h._saveItemProperties(h.data.items.length,c)}}for(h.zSort&&(e=e.sort(function(a,b){return a.zIndex-b.zIndex})),f=h._records.length,b=e.length-1;b>=0;b-=1)if(c=e[b],c.world&&c.location&&c.opacity&&!(c instanceof g)){if(l=k[c.world.id],"rgb"===c.world.colorMode&&c.color)l+=h._buildStringRGBA(c);else{if("hsl"!==c.world.colorMode||!c.color)throw new Error("System: current color mode not supported.");l+=h._buildStringHSLA(c)}k[c.world.id]=l}for(b=j.length-1;b>=0;b-=1)world=j[b],style=world.el.style,buffer=k[world.id],k[j[b].id]="",style.boxShadow=buffer.substr(0,buffer.length-1),style.borderRadius=world.borderRadius+"%";h.saveData&&h._checkSaveFrame()&&h.saveDataComplete(h.clock,h.data),h.clock++,d.active&&d.update(f),h.frameFunction.call(this),"undefined"==typeof window.requestAnimationFrame||h._checkSaveFrame()?setTimeout(h.loop,h.saveDataTimeoutLength):window.requestAnimationFrame(h.loop)}},h.saveDataComplete=function(){throw new Error("System.saveDataComplete not implemented. Override this function.")},h.totalFramesCallback=function(){var a=h.saveEndFrame-h.saveStartFrame;console.log("Rendered "+a+" frames.")},h.checkFramesSaved=function(){var a=h.saveEndFrame-h.saveStartFrame;return a>0&&h.clock>=h.saveEndFrame?(h.totalFramesCallback(),!0):void 0},h._checkSaveFrame=function(){return h.clock>=h.saveStartFrame&&h.clock<=h.saveEndFrame?!0:void 0},h._resetData=function(){return{frame:h.clock,world:{},items:[]}},h._saveItemProperties=function(a,b){for(var c in b){if(b.hasOwnProperty(c)&&h.saveItemProperties[c]){var d=b[c];d instanceof f&&(d={x:parseFloat(b[c].x.toFixed(2),10),y:parseFloat(b[c].y.toFixed(2),10)}),"number"==typeof d&&(d=parseFloat(d.toFixed(2),10));var e=h.data,g=e.items[a];"object"!=typeof g&&(e.items[a]={}),e.items[a][c]=d}if(!h.data.world.id)for(var i in b.world)b.world.hasOwnProperty(i)&&h.saveWorldProperties[i]&&(h.data.world[i]=b.world[i])}},h._buildStringHSLA=function(a){var b=a.world.resolution,c=a.location;return c.x*b+"px "+c.y*b+"px "+a.blur+"px "+b*a.scale+"px hsla("+a.color[0]+","+100*a.color[1]+"%,"+100*a.color[2]+"%, "+a.opacity+"),"},h._buildStringRGBA=function(a){var b=a.world.resolution,c=a.location;return c.x*b+"px "+c.y*b+"px "+a.blur+"px "+b*a.scale+"px rgba("+a.color[0]+","+a.color[1]+","+a.color[2]+", "+a.opacity+"),"},h._recordMouseLoc=function(a){var b,c=h.firstWorld();h.mouse.lastLocation.x=h.mouse.location.x,h.mouse.lastLocation.y=h.mouse.location.y,a.changedTouches&&(b=a.changedTouches[0]),a.pageX&&a.pageY?(h.mouse.location.x=e.map(a.pageX,0,window.innerWidth,0,c.width),h.mouse.location.y=e.map(a.pageY,0,window.innerHeight,0,c.height)):a.clientX&&a.clientY?(h.mouse.location.x=e.map(a.clientX,0,window.innerWidth,0,c.width),h.mouse.location.y=e.map(a.clientY,0,window.innerHeight,0,c.height)):b&&(h.mouse.location.x=b.pageX,h.mouse.location.y=b.pageY),h.mouse.velocity.x=h.mouse.lastLocation.x-h.mouse.location.x,h.mouse.velocity.y=h.mouse.lastLocation.y-h.mouse.location.y},h.firstWorld=function(){return this._records.length?this._records[0]:null},h.allWorlds=function(){return h.getAllItemsByName("World")},h.getAllItemsByName=function(a,b){var c,d,e=[],f=b||this._records;for(c=0,d=f.length;d>c;c++)f[c].name===a&&(e[e.length]=f[c]);return e},h.getAllItemsByAttribute=function(a,b,c){var d,e,f=[],g=this._records,h="undefined"!=typeof b?b:null,i=c||!1;for(d=0,e=g.length;e>d;d++)if("undefined"!=typeof g[d][a]){if(null!==h&&g[d][a]!==h)continue;if(i&&g[d].name!==i)continue;f[f.length]=g[d]}return f},h._keyup=function(a){var b,c,d,e=h.allWorlds();switch(a.keyCode){case 39:break;case 80:for(b=0,c=e.length;c>b;b++)d=e[b],d.pauseStep=!d.pauseStep;break;case 82:h._resetSystem();break;case 83:h._toggleStats()}},h._toggleStats=function(){d.fps?d.active=!d.active:d.init(),d.active?d.show():d.hide()},h._resetSystem=function(){var a,b,c=h.allWorlds();for(a=0,b=c.length;b>a;a++)c[a].pauseStep=!1;h._records=[],h._pool=[],h.clock=0,h.setup(h.setupFunc)},b.exports=h},{"./item":11,"./world":14,burner:4,fpsdisplay:7}],14:[function(a,b){function c(){d.call(this),this.name="World",this.world={}}var d=a("./item"),e=a("burner").Utils,f=a("burner").Vector;e.extend(c,d),c.prototype.init=function(a,b){c._superClass.init.call(this,this.world,b);var d=b||{},g=e.getWindowSize();if(this.el=d.el||document.body,this.gravity=d.gravity||new f(0,.1),this.c="undefined"!=typeof d.c?d.c:.1,this.pauseStep=!!d.pauseStep,this.pauseDraw=!!d.pauseDraw,this.el.className=this.name.toLowerCase(),this.resolution=d.resolution||4,this.width=d.width/this.resolution||g.width/this.resolution,this.height=d.height/this.resolution||g.height/this.resolution,this.location=d.location||new f((g.width-this.width*this.resolution)/2,(g.height-this.height*this.resolution)/2),this.color=d.color||[0,0,0],this.el!==document.body){var h=document.createElement("div"),i=h.style;
h.id="container_"+this.name.toLowerCase(),h.className="worldContainer",i.left=this.location.x+"px",i.top=this.location.y+"px",i.width=this.width*this.resolution+"px",i.height=this.height*this.resolution+"px",i.zIndex=this.zIndex,i.backgroundColor="rgb"===this.colorMode?"rgba("+this.color[0]+", "+this.color[1]+", "+this.color[2]+", "+this.opacity+")":"hsla("+this.color[0]+", "+100*this.color[1]+"%, "+100*this.color[2]+"%, "+this.opacity+")",h.appendChild(this.el),document.body.appendChild(h)}},c.prototype.step=function(){},b.exports=c},{"./item":11,burner:4}],15:[function(a,b){var c={Mover:a("./mover"),Oscillator:a("./oscillator"),Particle:a("./particle")};b.exports=c},{"./mover":16,"./oscillator":17,"./particle":18}],16:[function(a,b){function c(){d.call(this)}var d=a("bitshadowmachine").Item,e=a("bitshadowmachine").System,f=a("bitshadowmachine").Utils,g=a("bitshadowmachine").Vector;f.extend(c,d),c.prototype.init=function(a,b){c._superClass.init.call(this,a,b);var d=b||{};this.color=d.color||[255,255,255],this.borderRadius=d.borderRadius||0,this.borderWidth=d.borderWidth||0,this.borderStyle=d.borderStyle||"none",this.borderColor=d.borderColor||[0,0,0],this.pointToDirection="undefined"==typeof d.pointToDirection?!0:d.pointToDirection,this.parent=d.parent||null,this.pointToParentDirection="undefined"==typeof d.pointToParentDirection?!0:d.pointToParentDirection,this.offsetDistance="undefined"==typeof d.offsetDistance?0:d.offsetDistance,this.offsetAngle=d.offsetAngle||0,this.isStatic=!!d.isStatic,this._friction=new g},c.prototype.step=function(){var a,b,c=this.location.x,d=this.location.y;if(this.beforeStep.call(this),!this.isStatic){this.world.c&&(this._friction.x=this.velocity.x,this._friction.y=this.velocity.y,this._friction.mult(-1),this._friction.normalize(),this._friction.mult(this.world.c),this.applyForce(this._friction)),this.applyForce(this.world.gravity);var h=e.getAllItemsByName("Attractor");for(a=0,b=h.length;b>a;a+=1)this.id!==h[a].id&&this.applyForce(h[a].attract(this));var i=e.getAllItemsByName("Repeller");for(a=0,b=i.length;b>a;a+=1)this.id!==i[a].id&&this.applyForce(i[a].attract(this));var j=e.getAllItemsByName("Dragger");for(a=0,b=j.length;b>a;a+=1)this.id!==j[a].id&&f.isInside(this,j[a])&&this.applyForce(j[a].drag(this));if(this.applyAdditionalForces&&this.applyAdditionalForces.call(this),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed,this.minSpeed),this.location.add(this.velocity),this.pointToDirection&&this.velocity.mag()>.1&&(this.angle=f.radiansToDegrees(Math.atan2(this.velocity.y,this.velocity.x))),this.wrapWorldEdges?this._wrapWorldEdges():this.checkWorldEdges&&this._checkWorldEdges(),this.controlCamera&&this._checkCameraEdges(c,d,this.location.x,this.location.y),this.parent&&(this.offsetDistance?(r=this.offsetDistance,theta=f.degreesToRadians(this.parent.angle+this.offsetAngle),c=r*Math.cos(theta),d=r*Math.sin(theta),this.location.x=this.parent.location.x,this.location.y=this.parent.location.y,this.location.add(new g(c,d)),this.pointToParentDirection&&(this.angle=f.radiansToDegrees(Math.atan2(this.parent.velocity.y,this.parent.velocity.x)))):(this.location.x=this.parent.location.x,this.location.y=this.parent.location.y)),this.acceleration.mult(0),this.life<this.lifespan)this.life+=1;else if(-1!==this.lifespan)return void e.remove(this);this.afterStep.call(this)}},b.exports=c},{bitshadowmachine:12}],17:[function(a,b){function c(){d.call(this)}var d=a("bitshadowmachine").Item,e=a("quietriot"),f=a("bitshadowmachine").System,g=a("bitshadowmachine").Utils,h=a("bitshadowmachine").Vector;g.extend(c,d),c.prototype.init=function(a,b){c._superClass.init.call(this,a,b);var d=b||{};this.acceleration=d.acceleration||new h(.01,0),this.aVelocity=d.aVelocity||new h,this.isStatic=!!d.isStatic,this.perlin=!!d.perlin,this.perlinSpeed="undefined"==typeof d.perlinSpeed?.005:d.perlinSpeed,this.perlinTime=d.perlinTime||0,this.perlinAccelLow="undefined"==typeof d.perlinAccelLow?-2:d.perlinAccelLow,this.perlinAccelHigh="undefined"==typeof d.perlinAccelHigh?2:d.perlinAccelHigh,this.perlinOffsetX="undefined"==typeof d.perlinOffsetX?1e4*Math.random():d.perlinOffsetX,this.perlinOffsetY="undefined"==typeof d.perlinOffsetY?1e4*Math.random():d.perlinOffsetY,this.color=d.color||[200,100,0],this.opacity="undefined"==typeof d.opacity?.75:d.opacity,this.zIndex="undefined"==typeof d.zIndex?1:d.zIndex,this.parent=d.parent||null,this.pointToDirection=!!d.pointToDirection,this.lastLocation=new h,this.amplitude=d.amplitude||new h(this.world.width/2,this.world.height/2),this.initialLocation=d.initialLocation||new h(this.world.width/2,this.world.height/2),this.location.x=this.initialLocation.x,this.location.y=this.initialLocation.y},c.prototype.step=function(){this.beforeStep.call(this),this.isStatic||(this.perlin?(this.perlinTime+=this.perlinSpeed,this.aVelocity.x=g.map(e.noise(this.perlinTime+this.perlinOffsetX,0),-1,1,this.perlinAccelLow,this.perlinAccelHigh),this.aVelocity.y=g.map(e.noise(0,this.perlinTime+this.perlinOffsetY),-1,1,this.perlinAccelLow,this.perlinAccelHigh)):this.aVelocity.add(this.acceleration),this.parent&&(this.initialLocation.x=this.parent.location.x,this.initialLocation.y=this.parent.location.y),this.location.x=this.initialLocation.x+Math.cos(this.aVelocity.x)*this.amplitude.x,this.location.y=this.initialLocation.y+Math.sin(this.aVelocity.y)*this.amplitude.y,this.pointToDirection&&(velDiff=h.VectorSub(this.location,this.lastLocation),this.angle=g.radiansToDegrees(Math.atan2(velDiff.y,velDiff.x))),this.life<this.lifespan?this.life+=1:-1!==this.lifespan&&f.remove(this),this.afterStep.call(this),this.lastLocation.x=this.location.x,this.lastLocation.y=this.location.y)},b.exports=c},{bitshadowmachine:12,quietriot:35}],18:[function(a,b){function c(){d.call(this)}var d=(a("bitshadowmachine").Item,a("./mover")),e=a("bitshadowmachine").Utils,f=a("bitshadowmachine").Vector;e.extend(c,d),c.prototype.init=function(a,b){c._superClass.init.call(this,a,b);var d=b||{};this.color=d.color||[200,200,200],this.lifespan="undefined"==typeof d.lifespan?50:d.lifespan,this.life=d.life||0,this.fade="undefined"==typeof d.fade?!0:d.fade,this.shrink="undefined"==typeof d.shrink?!0:d.shrink,this.checkWorldEdges=!!d.checkWorldEdges,this.maxSpeed="undefined"==typeof d.maxSpeed?4:d.maxSpeed,this.zIndex="undefined"==typeof d.zIndex?1:d.zIndex,d.acceleration||(this.acceleration=new f(1,1),this.acceleration.normalize(),this.acceleration.mult(this.maxSpeed?this.maxSpeed:3),this.acceleration.rotate(e.getRandomNumber(0,2*Math.PI,!0))),d.velocity||(this.velocity=new f),this.initScale=this.scale},c.prototype.afterStep=function(){this.fade&&(this.opacity=e.map(this.life,0,this.lifespan,1,0)),this.shrink&&(this.scale=e.map(this.life,0,this.lifespan,this.initScale,0))},b.exports=c},{"./mover":16,bitshadowmachine:12}],19:[function(a,b){b.exports=a(7)},{"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/fpsdisplay/src/fpsdisplay.js":7}],20:[function(a,b){b.exports=a(9)},{"./item":22,"./system":24,"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/src/anim.js":9,burner:30}],21:[function(a,b){b.exports=a(10)},{"./item":22,"./system":24,"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/src/animunit.js":10,burner:30}],22:[function(a,b){b.exports=a(11)},{"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/src/item.js":11,burner:30}],23:[function(a,b){b.exports=a(12)},{"./anim":20,"./animunit":21,"./item":22,"./system":24,"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/src/main.js":12,burner:30,quietriot:35}],24:[function(a,b){b.exports=a(13)},{"./item":22,"./world":25,"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/src/system.js":13,burner:30,fpsdisplay:19}],25:[function(a,b){b.exports=a(14)},{"./item":22,"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/src/world.js":14,burner:30}],26:[function(a,b){b.exports=a(1)},{"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/burner/node_modules/drawing-utils-lib/src/drawing-utils-lib.js":1}],27:[function(a,b){b.exports=a(7)},{"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/fpsdisplay/src/fpsdisplay.js":7}],28:[function(a,b){b.exports=a(2)},{"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/burner/node_modules/vector2d-lib/src/vector2d-lib.js":2}],29:[function(a,b){b.exports=a(3)},{"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/burner/src/item.js":3,"vector2d-lib":28}],30:[function(a,b){b.exports=a(4)},{"./item":29,"./system":31,"./world":32,"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/burner/src/main.js":4,"drawing-utils-lib":26,"vector2d-lib":28}],31:[function(a,b){b.exports=a(5)},{"./item":29,"./world":32,"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/burner/src/system.js":5,"drawing-utils-lib":26,fpsdisplay:27,"vector2d-lib":28}],32:[function(a,b){b.exports=a(6)},{"./item":29,"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/burner/src/world.js":6,"drawing-utils-lib":26,"vector2d-lib":28}],33:[function(a,b){b.exports=a(1)},{"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/burner/node_modules/drawing-utils-lib/src/drawing-utils-lib.js":1}],34:[function(a,b){function c(a){this._gradients=[],this._colors=[],this.id=a||c._idCount,c._idCount++}var d=a("drawing-utils-lib");c._idCount=0,c.prototype.name="ColorPalette",c.prototype.addColor=function(a){if(!(a.min&&a.max&&a.startColor&&a.endColor))throw new Error("ColorPalette.addColor must pass min, max, startColor and endColor options.");var b,e,f;for(e=d.getRandomNumber(a.min,a.max),f=c._createColorRange(a.startColor,a.endColor,255),b=0;e>b;b++)this._colors.push(f[d.getRandomNumber(0,f.length-1)]);return this},c._createColorRange=function(a,b,c){var d,e,f,g,h,i,j,k=[],l=a[0],m=a[1],n=a[2],o=b[0],p=b[1],q=b[2];for(e=o-l,f=p-m,g=q-n,d=0;c>d;d++)h=parseInt(e*d/c,10)+l,i=parseInt(f*d/c,10)+m,j=parseInt(g*d/c,10)+n,k.push([h,i,j]);return k},c.prototype.getColor=function(){if(this._colors.length>0)return this._colors[d.getRandomNumber(0,this._colors.length-1)];throw new Error("ColorPalette.getColor: You must add colors via addColor() before using getColor().")},b.exports=c},{"drawing-utils-lib":33}],35:[function(a,b){b.exports=a(8)},{"/Users/vince/Dev/Foldi/tinytornado/node_modules/bitshadowitems/node_modules/bitshadowmachine/node_modules/quietriot/src/quietriot.js":8}],36:[function(a,b){function c(a){var b=a||{};this.width="undefined"!=typeof b.width?b.width:10,this.height="undefined"!=typeof b.height?b.height:10,this.color="undefined"!=typeof b.color?b.color:0,this.perlin="undefined"!=typeof b.perlin?b.perlin:!0,this.perlinSpeed=b.perlinSpeed||1e-4,this.perlinTime=b.perlinTime||100,this.initialLocation=b.initialLocation||null,this.amplitude=b.amplitude||null,this.opacity=b.opacity||0}var d=(a("burner"),a("burner").Utils,a("burner").Vector);c.prototype.configure=function(a){this.initialLocation=new d(a.width/2,a.height),this.amplitude=new d(a.width/4,0)},b.exports=c},{burner:30}],37:[function(a,b){function c(a){var b=a||{};this.sizeMin="undefined"!=typeof b.sizeMin?b.sizeMin:1,this.sizeMax="undefined"!=typeof b.sizeMax?b.sizeMax:2,this.speedMin="undefined"!=typeof b.speedMin?b.speedMin:1,this.speedMax="undefined"!=typeof b.speedMax?b.speedMax:30,this.opacityMin="undefined"!=typeof b.opacityMin?b.opacityMin:.05,this.opacityMax="undefined"!=typeof b.opacityMax?b.opacityMax:.3,this.lifespanMin="undefined"!=typeof b.lifespanMin?b.lifespanMin:70,this.lifespanMax="undefined"!=typeof b.lifespanMax?b.lifespanMax:120,this.colorMin="undefined"!=typeof b.colorMin?b.colorMin:100,this.colorMax="undefined"!=typeof b.colorMax?b.colorMax:200,this.rate=b.rate||1,this.fade=!!b.fade,this.width=0,this.height=0,this.lifespan=-1,this.startColor=[100,100,100],this.endColor=[200,200,200],this.pl=new d,this.pl.addColor({min:12,max:24,startColor:this.startColor,endColor:this.endColor}),this.opacity=0,this.beforeStep=this._beforeStep.bind(this)}var d=a("colorpalette"),e=a("bitshadowmachine").System,f=a("burner").Utils,g=a("burner").Vector;c.prototype._beforeStep=function(){for(var a=0;a<this.rate;a++){var b=new g(1,1);b.normalize(),b.mult(f.getRandomNumber(.1,.25,!0)),b.rotate(f.degreesToRadians(f.getRandomNumber(140,310,!0))),this.acceleration=b;{var c=f.getRandomNumber(this.sizeMin,this.sizeMax,this.sizeMin||this.sizeMax),d=f.getRandomNumber(this.speedMin,this.speedMax,!0),h=f.map(c,this.sizeMin,this.sizeMax,this.opacityMax,this.opacityMin),i=f.getRandomNumber(this.lifespanMin,this.lifespanMax);f.getRandomNumber(this.colorMin,this.colorMax)}e.add("Particle",{location:new g(this.parent.location.x,this.parent.location.y),acceleration:b,scale:c,maxSpeed:d,opacity:h,fade:this.fade,lifespan:i})}},c.prototype.configure=function(a){var b=a||{};this.parent=b.parent||null},b.exports=c},{bitshadowmachine:23,burner:30,colorpalette:34}],38:[function(a,b){function c(a,b,c,d){this.base=a,this.debris=b,this.spine=c,this.shell=d}var d=a("bitshadowmachine"),e=a("bitshadowitems").Mover,f=a("bitshadowitems").Oscillator,g=a("bitshadowitems").Particle,h=a("burner").Utils,i=a("burner").Vector,j=a("quietriot"),k=a("../easing");c.noise=0,c.prototype.init=function(a){var b=a||{};d.System.Classes={Mover:e,Oscillator:f,Particle:g},d.System.setup(this._setupCallback.bind(this,b)),d.System.clock=1e4,d.System.loop(this._getNoise.bind(this))},c.prototype._setupCallback=function(a){var b=h.getRandomNumber,c=(h.map,d.System.add("World",{el:a.el||document.body,resolution:a.resolution||4,color:a.color||[40,40,40],width:a.width||800,height:a.height||600,gravity:new i,c:0}));this.base.configure(c);var e=d.System.add("Oscillator",this.base);this.debris.configure({parent:e}),d.System.add("Mover",this.debris);for(var f=0,g=Math.floor(c.height/this.spine.density);g>f;f++){var l=k[this.spine.easing].call(null,f,0,1,g-1),m=d.System.add("Mover",{parent:e,offsetDistance:l*c.height,offsetAngle:270,opacity:this.spine.opacity,afterStep:this._jointAfterStep});m.index=f,m.offsetFromCenter=k.easeInSine(f,0,1,g-1)*j.noise(.1*f,0)*10;for(var n=k[this.shell.easing].call(null,f,0,1,g-1),o=Math.floor(h.map(j.noise(.05*f,0),-1,1,this.shell.colorMin,this.shell.colorMax)),p=0;4*(f+1)>p;p++){var q=n*this.shell.maxScale+this.shell.minScale;d.System.add("Oscillator",{perlin:!1,parent:m,blur:n,color:[o,o,o],opacity:h.map(q,this.shell.minScale,this.shell.maxScale,.3,.1),scale:q,amplitude:new i(h.map(n,0,1,1,b(50,100)),h.map(n,0,1,1,b(10,64))),acceleration:new d.Vector(2/(f+1),.05),aVelocity:new d.Vector(b(0,40),b(0,40))})}}},c.prototype._jointAfterStep=function(){var a=this.index*this.offsetFromCenter*c.noise;this.location.x=this.location.x+a},c.prototype._getNoise=function(){c.noise=j.noise(1e-4*d.System.clock,0)},b.exports=c},{"../easing":41,bitshadowitems:15,bitshadowmachine:23,burner:30,quietriot:35}],39:[function(a,b){function c(a){var b=a||{};this.minScale="undefined"!=typeof b.minScale?b.minScale:.1,this.maxScale="undefined"!=typeof b.maxScale?b.maxScale:8,this.opacity="undefined"!=typeof b.opacity?b.opacity:.75,this.blur="undefined"!=typeof b.blur?b.blur:30,this.easing=b.easing||"easeInExpo",this.colorMin="undefined"!=typeof b.colorMin?b.colorMin:100,this.colorMax="undefined"!=typeof b.colorMax?b.colorMax:255}b.exports=c},{}],40:[function(a,b){function c(a){var b=a||{};this.sizeMin="undefined"!=typeof b.sizeMin?b.sizeMin:1,this.sizeMax="undefined"!=typeof b.sizeMax?b.sizeMax:3,this.speedMin="undefined"!=typeof b.speedMin?b.speedMin:1,this.speedMax="undefined"!=typeof b.speedMax?b.speedMax:30,this.opacityMin="undefined"!=typeof b.opacityMin?b.opacityMin:.1,this.opacityMax="undefined"!=typeof b.opacityMax?b.opacityMax:.7,this.lifespanMin="undefined"!=typeof b.lifespanMin?b.lifespanMin:70,this.lifespanMax="undefined"!=typeof b.lifespanMax?b.lifespanMax:120,this.colorMin="undefined"!=typeof b.colorMin?b.colorMin:100,this.colorMax="undefined"!=typeof b.colorMax?b.colorMax:200,this.width=0,this.height=0,this.lifespan=-1,this.startColor=[100,100,100],this.endColor=[200,200,200],this.pl=new d,this.pl.addColor({min:12,max:24,startColor:this.startColor,endColor:this.endColor}),this.beforeStep=this._beforeStep.bind(this)}var d=a("colorpalette"),e=a("burner").System,f=a("burner").Utils,g=a("burner").Vector;c.prototype._beforeStep=function(){if(e.clock%3===0){var a=new g(1,1);a.normalize(),a.mult(f.getRandomNumber(.1,1,!0)),a.rotate(f.degreesToRadians(f.getRandomNumber(140,310))),this.acceleration=a;{var b=f.getRandomNumber(this.sizeMin,this.sizeMax,this.sizeMin||this.sizeMax),c=f.getRandomNumber(this.speedMin,this.speedMax,!0),d=f.getRandomNumber(this.opacityMin,this.opacityMax,!0),h=f.getRandomNumber(this.lifespanMin,this.lifespanMax,!0);f.getRandomNumber(this.colorMin,this.colorMax)}e.add("Particle",{location:new g(this.parent.location.x,this.parent.location.y),acceleration:a,width:0,height:0,borderWidth:0,boxShadowBlur:10*b,boxShadowSpread:3*b,boxShadowColor:this.pl.getColor(),maxSpeed:c,opacity:d,lifespan:h})}},c.prototype.configure=function(a){var b=a||{};this.parent=b.parent||null},b.exports=c},{burner:30,colorpalette:34}],41:[function(a,b){var c={};c.linearTween=function(a,b,c,d){return c*a/d+b},c.easeInQuad=function(a,b,c,d){return a/=d,c*a*a+b},c.easeOutQuad=function(a,b,c,d){return a/=d,-c*a*(a-2)+b},c.easeInOutQuad=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)},c.easeInCubic=function(a,b,c,d){return a/=d,c*a*a*a+b},c.easeOutCubic=function(a,b,c,d){return a/=d,a--,c*(a*a*a+1)+b},c.easeInOutCubic=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b)},c.easeInQuart=function(a,b,c,d){return a/=d,c*a*a*a*a+b},c.easeOutQuart=function(a,b,c,d){return a/=d,a--,-c*(a*a*a*a-1)+b},c.easeInOutQuart=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a*a+b:(a-=2,-c/2*(a*a*a*a-2)+b)},c.easeInQuint=function(a,b,c,d){return a/=d,c*a*a*a*a*a+b},c.easeOutQuint=function(a,b,c,d){return a/=d,a--,c*(a*a*a*a*st+1)+b},c.easeInOutQuint=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a*a*a*a+b:(a-=2,c/2*(a*a*a*a*a+2)+b)},c.easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},c.easeOutSine=function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},c.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},c.easeInExpo=function(a,b,c,d){return c*Math.pow(2,10*(a/d-1))+b},c.easeOutExpo=function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},c.easeInOutExpo=function(a,b,c,d){return a/=d/2,1>a?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b)},c.easeInCirc=function(a,b,c,d){return a/=d,-c*(Math.sqrt(1-a*a)-1)+b},c.easeOutCirc=function(a,b,c,d){return a/=d,a--,c*Math.sqrt(1-a*a)+b},c.easeInOutCirc=function(a,b,c,d){return a/=d/2,1>a?-c/2*(Math.sqrt(1-a*a)-1)+b:(a-=2,c/2*(Math.sqrt(1-a*a)+1)+b)},b.exports=c},{}],42:[function(a,b){function c(){d.call(this)}var d=a("burner").Item,e=a("burner").System,f=a("burner").Utils,g=a("burner").Vector;f.extend(c,d),c.prototype.init=function(a,b){c._superClass.init.call(this,a,b);var d=b||{};this.color=d.color||[255,255,255],this.borderRadius=d.borderRadius||0,this.borderWidth=d.borderWidth||0,this.borderStyle=d.borderStyle||"none",this.borderColor=d.borderColor||[0,0,0],this.pointToDirection="undefined"==typeof d.pointToDirection?!0:d.pointToDirection,this.draggable=!!d.draggable,this.parent=d.parent||null,this.pointToParentDirection="undefined"==typeof d.pointToParentDirection?!0:d.pointToParentDirection,this.offsetDistance="undefined"==typeof d.offsetDistance?0:d.offsetDistance,this.offsetAngle=d.offsetAngle||0,this.isStatic=!!d.isStatic;var e=this;this.isMouseOut=!1,this.isPressed=!1,this.mouseOutInterval=!1,this._friction=new g,this.draggable&&(f.addEvent(this.el,"mouseover",function(){return function(a){c.mouseover.call(e,a)}}()),f.addEvent(this.el,"mousedown",function(){return function(a){c.mousedown.call(e,a)}}()),f.addEvent(this.el,"mousemove",function(){return function(a){c.mousemove.call(e,a)}}()),f.addEvent(this.el,"mouseup",function(){return function(a){c.mouseup.call(e,a)}}()),f.addEvent(this.el,"mouseout",function(){return function(a){c.mouseout.call(e,a)}}()))},c.mouseover=function(){this.isMouseOut=!1,clearInterval(this.mouseOutInterval)},c.mousedown=function(){this.isPressed=!0,this.isMouseOut=!1},c.mousemove=function(a){var b,c;this.isPressed&&(this.isMouseOut=!1,a.pageX&&a.pageY?(b=a.pageX-this.world.el.offsetLeft,c=a.pageY-this.world.el.offsetTop):a.clientX&&a.clientY&&(b=a.clientX-this.world.el.offsetLeft,c=a.clientY-this.world.el.offsetTop),b&c&&(this.location=new g(b,c)),this._checkWorldEdges())},c.mouseup=function(){this.isPressed=!1},c.mouseout=function(){var a,b,c=this,d=e.mouse;this.isPressed&&(this.isMouseOut=!0,this.mouseOutInterval=setInterval(function(){c.isPressed&&c.isMouseOut&&(a=d.location.x-c.world.el.offsetLeft,b=d.location.y-c.world.el.offsetTop,c.location=new g(a,b))},16))},c.prototype.step=function(){var a,b,c=this.location.x,d=this.location.y;if(this.beforeStep.call(this),!this.isStatic&&!this.isPressed){this.world.c&&(this._friction.x=this.velocity.x,this._friction.y=this.velocity.y,this._friction.mult(-1),this._friction.normalize(),this._friction.mult(this.world.c),this.applyForce(this._friction)),this.applyForce(this.world.gravity);var h=e.getAllItemsByName("Attractor");for(a=0,b=h.length;b>a;a+=1)this.id!==h[a].id&&this.applyForce(h[a].attract(this));var i=e.getAllItemsByName("Repeller");for(a=0,b=i.length;b>a;a+=1)this.id!==i[a].id&&this.applyForce(i[a].attract(this));var j=e.getAllItemsByName("Dragger");for(a=0,b=j.length;b>a;a+=1)this.id!==j[a].id&&f.isInside(this,j[a])&&this.applyForce(j[a].drag(this));if(this.applyAdditionalForces&&this.applyAdditionalForces.call(this),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed,this.minSpeed),this.location.add(this.velocity),this.pointToDirection&&this.velocity.mag()>.1&&(this.angle=f.radiansToDegrees(Math.atan2(this.velocity.y,this.velocity.x))),this.wrapWorldEdges?this._wrapWorldEdges():this.checkWorldEdges&&this._checkWorldEdges(),this.controlCamera&&this._checkCameraEdges(c,d,this.location.x,this.location.y),this.parent&&(this.offsetDistance?(r=this.offsetDistance,theta=f.degreesToRadians(this.parent.angle+this.offsetAngle),c=r*Math.cos(theta),d=r*Math.sin(theta),this.location.x=this.parent.location.x,this.location.y=this.parent.location.y,this.location.add(new g(c,d)),this.pointToParentDirection&&(this.angle=f.radiansToDegrees(Math.atan2(this.parent.velocity.y,this.parent.velocity.x)))):(this.location.x=this.parent.location.x,this.location.y=this.parent.location.y)),this.acceleration.mult(0),this.life<this.lifespan)this.life+=1;else if(-1!==this.lifespan)return void e.remove(this);this.afterStep.call(this)}},c.prototype.draw=function(){var a=this.getCSSText({x:this.location.x-this.width/2,y:this.location.y-this.height/2,angle:this.angle,scale:this.scale||1,width:this.width,height:this.height,colorMode:this.colorMode,color0:this.color[0],color1:this.color[1],color2:this.color[2],opacity:this.opacity,zIndex:this.zIndex,visibility:this.visibility,borderRadius:this.borderRadius,borderWidth:this.borderWidth,borderStyle:this.borderStyle,borderColor0:this.borderColor[0],borderColor1:this.borderColor[1],borderColor2:this.borderColor[2]});this.el.style.cssText=a},c.prototype.getCSSText=function(a){return d._stylePosition.replace(/<x>/g,a.x).replace(/<y>/g,a.y).replace(/<angle>/g,a.angle).replace(/<scale>/g,a.scale)+"width: "+a.width+"px; height: "+a.height+"px; background-color: "+a.colorMode+"("+a.color0+", "+a.color1+("hsl"===a.colorMode?"%":"")+", "+a.color2+("hsl"===a.colorMode?"%":"")+");  opacity: "+a.opacity+"; z-index: "+a.zIndex+"; visibility: "+a.visibility+"; border: "+a.borderWidth+"px "+a.borderStyle+" "+a.colorMode+"("+a.borderColor0+", "+a.borderColor1+("hsl"===a.colorMode?"%":"")+", "+a.borderColor2+("hsl"===a.colorMode?"%":"")+"); border-radius: "+a.borderRadius+"%;"},b.exports=c},{burner:30}],43:[function(a,b){function c(){d.call(this)}var d=a("burner").Item,e=a("quietriot"),f=a("burner").System,g=a("burner").Utils,h=a("burner").Vector;g.extend(c,d),c.prototype.init=function(a,b){c._superClass.init.call(this,a,b);var d=b||{};this.acceleration=d.acceleration||new h(.01,0),this.aVelocity=d.aVelocity||new h,this.isStatic=!!d.isStatic,this.perlin=!!d.perlin,this.perlinSpeed="undefined"==typeof d.perlinSpeed?.005:d.perlinSpeed,this.perlinTime=d.perlinTime||0,this.perlinAccelLow="undefined"==typeof d.perlinAccelLow?-2:d.perlinAccelLow,this.perlinAccelHigh="undefined"==typeof d.perlinAccelHigh?2:d.perlinAccelHigh,this.perlinOffsetX="undefined"==typeof d.perlinOffsetX?1e4*Math.random():d.perlinOffsetX,this.perlinOffsetY="undefined"==typeof d.perlinOffsetY?1e4*Math.random():d.perlinOffsetY,this.width="undefined"==typeof d.width?20:d.width,this.height="undefined"==typeof d.height?20:d.height,this.color=d.color||[200,100,0],this.borderWidth=d.borderWidth||0,this.borderStyle=d.borderStyle||"solid",this.borderColor=d.borderColor||[255,150,50],this.borderRadius="undefined"==typeof d.borderRadius?100:d.borderRadius,this.boxShadowOffsetX=d.boxShadowOffsetX||0,this.boxShadowOffsetY=d.boxShadowOffsetY||0,this.boxShadowBlur=d.boxShadowBlur||0,this.boxShadowSpread=d.boxShadowSpread||0,this.boxShadowColor=d.boxShadowColor||[200,100,0],this.opacity="undefined"==typeof d.opacity?.75:d.opacity,this.zIndex="undefined"==typeof d.zIndex?1:d.zIndex,this.parent=d.parent||null,this.pointToDirection=!!d.pointToDirection,this.lastLocation=new h,this.amplitude=d.amplitude||new h(this.world.width/2-this.width,this.world.height/2-this.height),this.initialLocation=d.initialLocation||new h(this.world.width/2,this.world.height/2),this.location.x=this.initialLocation.x,this.location.y=this.initialLocation.y},c.prototype.step=function(){this.beforeStep.call(this),this.isStatic||(this.perlin?(this.perlinTime+=this.perlinSpeed,this.aVelocity.x=g.map(e.noise(this.perlinTime+this.perlinOffsetX,0),-1,1,this.perlinAccelLow,this.perlinAccelHigh),this.aVelocity.y=g.map(e.noise(0,this.perlinTime+this.perlinOffsetY),-1,1,this.perlinAccelLow,this.perlinAccelHigh)):this.aVelocity.add(this.acceleration),this.parent&&(this.initialLocation.x=this.parent.location.x,this.initialLocation.y=this.parent.location.y),this.location.x=this.initialLocation.x+Math.sin(this.aVelocity.x)*this.amplitude.x,this.location.y=this.initialLocation.y+Math.sin(this.aVelocity.y)*this.amplitude.y,this.pointToDirection&&(velDiff=h.VectorSub(this.location,this.lastLocation),this.angle=g.radiansToDegrees(Math.atan2(velDiff.y,velDiff.x))),this.life<this.lifespan?this.life+=1:-1!==this.lifespan&&f.remove(this),this.afterStep.call(this),this.lastLocation.x=this.location.x,this.lastLocation.y=this.location.y)},c.prototype.draw=function(){var a=this.getCSSText({x:this.location.x-this.width/2,y:this.location.y-this.height/2,angle:this.angle,scale:this.scale||1,width:this.width,height:this.height,color0:this.color[0],color1:this.color[1],color2:this.color[2],colorMode:this.colorMode,borderRadius:this.borderRadius,borderWidth:this.borderWidth,borderStyle:this.borderStyle,borderColor0:this.borderColor[0],borderColor1:this.borderColor[1],borderColor2:this.borderColor[2],boxShadowOffsetX:this.boxShadowOffsetX,boxShadowOffsetY:this.boxShadowOffsetY,boxShadowBlur:this.boxShadowBlur,boxShadowSpread:this.boxShadowSpread,boxShadowColor0:this.boxShadowColor[0],boxShadowColor1:this.boxShadowColor[1],boxShadowColor2:this.boxShadowColor[2],opacity:this.opacity,zIndex:this.zIndex,visibility:this.visibility});this.el.style.cssText=a},c.prototype.getCSSText=function(a){return d._stylePosition.replace(/<x>/g,a.x).replace(/<y>/g,a.y).replace(/<angle>/g,a.angle).replace(/<scale>/g,a.scale)+"width: "+a.width+"px; height: "+a.height+"px; background-color: "+a.colorMode+"("+a.color0+", "+a.color1+("hsl"===a.colorMode?"%":"")+", "+a.color2+("hsl"===a.colorMode?"%":"")+"); border: "+a.borderWidth+"px "+a.borderStyle+" "+a.colorMode+"("+a.borderColor0+", "+a.borderColor1+("hsl"===a.colorMode?"%":"")+", "+a.borderColor2+("hsl"===a.colorMode?"%":"")+"); border-radius: "+a.borderRadius+"%; box-shadow: "+a.boxShadowOffsetX+"px "+a.boxShadowOffsetY+"px "+a.boxShadowBlur+"px "+a.boxShadowSpread+"px "+a.colorMode+"("+a.boxShadowColor0+", "+a.boxShadowColor1+("hsl"===a.colorMode?"%":"")+", "+a.boxShadowColor2+("hsl"===a.colorMode?"%":"")+"); opacity: "+a.opacity+"; z-index: "+a.zIndex+"; visibility: "+a.visibility+";"},b.exports=c},{burner:30,quietriot:35}],44:[function(a,b){function c(){e.call(this)}var d=a("burner").Item,e=a("./mover"),f=a("burner").Utils,g=a("burner").Vector;f.extend(c,e),c.prototype.init=function(a,b){c._superClass.init.call(this,a,b);var d=b||{};this.width="undefined"==typeof d.width?20:d.width,this.height="undefined"==typeof d.height?20:d.height,this.color=d.color||[200,200,200],this.borderWidth="undefined"==typeof d.borderWidth?this.width/4:d.borderWidth,this.borderRadius="undefined"==typeof d.borderRadius?100:d.borderRadius,this.boxShadowSpread="undefined"==typeof d.boxShadowSpread?this.width/4:d.boxShadowSpread,this.lifespan="undefined"==typeof d.lifespan?50:d.lifespan,this.life=d.life||0,this.fade="undefined"==typeof d.fade?!0:d.fade,this.shrink="undefined"==typeof d.shrink?!0:d.shrink,this.checkWorldEdges=!!d.checkWorldEdges,this.maxSpeed="undefined"==typeof d.maxSpeed?4:d.maxSpeed,this.zIndex="undefined"==typeof d.zIndex?1:d.zIndex,d.acceleration||(this.acceleration=new g(1,1),this.acceleration.normalize(),this.acceleration.mult(this.maxSpeed?this.maxSpeed:3),this.acceleration.rotate(f.getRandomNumber(0,2*Math.PI,!0))),d.velocity||(this.velocity=new g),this.initWidth=this.width,this.initHeight=this.height},c.prototype.afterStep=function(){this.fade&&(this.opacity=f.map(this.life,0,this.lifespan,1,0)),this.shrink&&(this.width=f.map(this.life,0,this.lifespan,this.initWidth,0),this.height=f.map(this.life,0,this.lifespan,this.initHeight,0))},c.prototype.draw=function(){var a=this.getCSSText({x:this.location.x-this.width/2,y:this.location.y-this.height/2,angle:this.angle,scale:this.scale||1,width:this.width,height:this.height,color0:this.color[0],color1:this.color[1],color2:this.color[2],colorMode:this.colorMode,borderRadius:this.borderRadius,borderWidth:this.borderWidth,borderStyle:this.borderStyle,borderColor0:this.borderColor[0],borderColor1:this.borderColor[1],borderColor2:this.borderColor[2],boxShadowOffsetX:this.boxShadowOffsetX,boxShadowOffsetY:this.boxShadowOffsetY,boxShadowBlur:this.boxShadowBlur,boxShadowSpread:this.boxShadowSpread,boxShadowColor0:this.boxShadowColor[0],boxShadowColor1:this.boxShadowColor[1],boxShadowColor2:this.boxShadowColor[2],opacity:this.opacity,zIndex:this.zIndex,visibility:this.visibility});this.el.style.cssText=a},c.prototype.getCSSText=function(a){return d._stylePosition.replace(/<x>/g,a.x).replace(/<y>/g,a.y).replace(/<angle>/g,a.angle).replace(/<scale>/g,a.scale)+"width: "+a.width+"px; height: "+a.height+"px; background-color: "+a.colorMode+"("+a.color0+", "+a.color1+("hsl"===a.colorMode?"%":"")+", "+a.color2+("hsl"===a.colorMode?"%":"")+"); border: "+a.borderWidth+"px "+a.borderStyle+" "+a.colorMode+"("+a.borderColor0+", "+a.borderColor1+("hsl"===a.colorMode?"%":"")+", "+a.borderColor2+("hsl"===a.colorMode?"%":"")+"); border-radius: "+a.borderRadius+"%; box-shadow: "+a.boxShadowOffsetX+"px "+a.boxShadowOffsetY+"px "+a.boxShadowBlur+"px "+a.boxShadowSpread+"px "+a.colorMode+"("+a.boxShadowColor0+", "+a.boxShadowColor1+("hsl"===a.colorMode?"%":"")+", "+a.boxShadowColor2+("hsl"===a.colorMode?"%":"")+"); opacity: "+a.opacity+"; z-index: "+a.zIndex+"; visibility: "+a.visibility+";"
},b.exports=c},{"./mover":42,burner:30}],45:[function(a,b){b.exports={Funnel:{Base:a("./base"),Debris:a("./debris"),Spine:a("./spine"),Shell:a("./shell"),Runner:a("./runner")},Vortex:{Base:a("./base"),DebrisBit:a("./bitshadow/debrisbit"),Spine:a("./spine"),ShellBit:a("./bitshadow/shellbit"),RunnerBit:a("./bitshadow/runnerbit")}}},{"./base":36,"./bitshadow/debrisbit":37,"./bitshadow/runnerbit":38,"./bitshadow/shellbit":39,"./debris":40,"./runner":47,"./shell":48,"./spine":49}],46:[function(a,b){function c(){this.color=[20,20,20],this.isStatic=!0,this.borderRadius=0,this.borderWidth=0,this.zIndex=100}a("burner").Vector;c.prototype.configure=function(a){this.location=a.location,this.width=a.width,this.height=a.height},b.exports=c},{burner:30}],47:[function(a,b){function c(a,b,c,d){if(!a)throw new Error("Runner requires a 'base' parameter.");this.base=a,this.debris=b||null,this.spine=c||null,this.shell=d||null}var d=a("burner"),e=a("./items/mover"),f=a("./items/oscillator"),g=a("./items/particle"),h=a("burner").Utils,i=a("burner").Vector,j=a("quietriot"),k=a("./easing"),l=a("./mask");c.noise=0,c.prototype.init=function(a){var b=a||{};d.System.Classes={Mover:e,Oscillator:f,Particle:g},d.System.setup(this._setupCallback.bind(this,b)),d.System.clock=1e4,d.System.loop(this._getNoise.bind(this))},c.prototype._setupCallback=function(a){var b=d.System.add("World",{el:a.el||document.body,color:a.color||[40,40,40],width:a.width||800,height:a.height||600,borderWidth:a.borderWidth||1,borderStyle:a.borderStyle||"solid",borderColor:a.borderColor||[0,0,0],gravity:new i,c:0});this.base.configure(b);var c=d.System.add("Oscillator",this.base);if(this.debris&&(this.debris.configure({parent:c}),d.System.add("Mover",this.debris)),this.spine)for(var e=0,f=Math.floor(b.height/this.spine.density);f>e;e++){var g=k[this.spine.easing].call(null,e,0,1,f-1),m=d.System.add("Mover",{parent:c,offsetDistance:g*b.height,offsetAngle:270,opacity:this.spine.opacity,afterStep:this._jointAfterStep});if(m.index=e,m.offsetFromAxis=this.spine.offsetFromAxis,m.offsetFromCenter=k.easeInSine(e,0,1,f-1)*j.noise(.1*e,0)*20,this.shell){var n=k[this.shell.easing].call(null,e,0,1,f-1),o=Math.floor(h.map(j.noise(.05*e,0),-1,1,this.shell.colorMin,this.shell.colorMax));d.System.add("Oscillator",{width:this.shell.width,height:this.shell.height,parent:m,opacity:this.shell.opacity,color:[o,o,o],boxShadowBlur:n*this.shell.blur+this.shell.minFunnelWidth,boxShadowSpread:n*this.shell.spread+this.shell.minFunnelWidth,boxShadowColor:[o,o,o],perlin:!1,amplitude:new i(1*(2-n),0),acceleration:new i(1/(e+1),0)})}}var p=(document.body.scrollWidth-b.width)/2,q=(document.body.scrollHeight-b.height)/2,r=new l;r.configure({location:new i(b.width/2,-1-q/2),world:b,width:b.width+10,height:q}),d.System.add("Mover",r);var s=new l;s.configure({location:new d.Vector(b.width/2,b.height+1+q/2),world:b,width:b.width+10,height:q}),d.System.add("Mover",s);var t=new l;t.configure({location:new d.Vector(-1-p/2,b.height/2),world:b,width:p,height:document.body.scrollHeight}),d.System.add("Mover",t);var u=new l;u.configure({location:new d.Vector(b.width+1+p/2,b.height/2),world:b,width:p,height:document.body.scrollHeight}),d.System.add("Mover",u)},c.prototype._jointAfterStep=function(){if(this.offsetFromAxis){var a=this.index*this.offsetFromCenter*c.noise;this.location.x=this.location.x+a}},c.prototype._getNoise=function(){c.noise=j.noise(1e-4*d.System.clock,0)},b.exports=c},{"./easing":41,"./items/mover":42,"./items/oscillator":43,"./items/particle":44,"./mask":46,burner:30,quietriot:35}],48:[function(a,b){function c(a){var b=a||{};this.width=b.itemWidth||0,this.height=b.itemHeight||0,this.minFunnelWidth="undefined"!=typeof b.minFunnelWidth?b.minFunnelWidth:5,this.opacity="undefined"!=typeof b.opacity?b.opacity:.75,this.blur="undefined"!=typeof b.blur?b.blur:350,this.spread="undefined"!=typeof b.spread?b.spread:250,this.easing=b.easing||"easeInExpo",this.colorMin="undefined"!=typeof b.colorMin?b.colorMin:50,this.colorMax="undefined"!=typeof b.colorMax?b.colorMax:255}b.exports=c},{}],49:[function(a,b){function c(a){var b=a||{};this.density=b.density||25,this.opacity=b.opacity||0,this.easing=b.easing||"easeInCirc",this.offsetFromAxis="undefined"!=typeof b.offsetFromAxis?b.offsetFromAxis:!0}b.exports=c},{}]},{},[45])(45)});
//# sourceMappingURL=tinytornado.min.js.map