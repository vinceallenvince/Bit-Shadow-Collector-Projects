/*! soundbed v0.1.7 - 2014-08-24 08:08:13 
Vince Allen |Brooklyn, NY | vince@vinceallen.com | @vinceallenvince | License: MIT */

!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.SoundBed=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c={Player:a("./src/player")};b.exports=c},{"./src/player":8}],2:[function(a,b){var c={name:"Utils"};c.extend=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a._superClass=b.prototype},c.getRandomNumber=function(a,b,c){return c?Math.random()*(b-(a-1))+a:Math.floor(Math.random()*(b-(a-1)))+a},c.map=function(a,b,c,d,e){var f=(a-b)/(c-b);return f*(e-d)+d},c.addEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},c.degreesToRadians=function(a){if("undefined"!=typeof a)return 2*Math.PI*(a/360);if("undefined"!=typeof console)throw new Error("Error: Utils.degreesToRadians is missing degrees param.")},c.radiansToDegrees=function(a){if("undefined"!=typeof a)return a*(180/Math.PI);if("undefined"!=typeof console)throw new Error("Error: Utils.radiansToDegrees is missing radians param.")},c.constrain=function(a,b,c){return a>c?c:b>a?b:a},c.isInside=function(a,b){if(!a||!b)throw new Error("isInside() requires both an object and a container.");return a.width=a.width||0,a.height=a.height||0,b.width=b.width||0,b.height=b.height||0,a.location.x+a.width/2>b.location.x-b.width/2&&a.location.x-a.width/2<b.location.x+b.width/2&&a.location.y+a.height/2>b.location.y-b.height/2&&a.location.y-a.height/2<b.location.y+b.height/2?!0:!1},c.capitalizeFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},b.exports=c},{}],3:[function(a,b){var c={};c.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],c.p=[],c.perm=[],c.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]],c.config=function(a){var b,d=c.p,e=c.perm;for("undefined"==typeof a&&(a=Math),b=0;256>b;b+=1)c.p[b]=Math.floor(256*a.random());for(b=0;512>b;b+=1)e[b]=d[255&b]},c.noise=function(a,b){{var d=(c.grad3,c.p);c.perm,c.simplex}d.length||c.config();var e,f,g,h,i,j=.5*(Math.sqrt(3)-1),k=(a+b)*j,l=Math.floor(a+k),m=Math.floor(b+k),n=(3-Math.sqrt(3))/6,o=(l+m)*n,p=l-o,q=m-o,r=a-p,s=b-q;r>s?(h=1,i=0):(h=0,i=1);var t=r-h+n,u=s-i+n,v=r-1+2*n,w=s-1+2*n,x=255&l,y=255&m,z=this.perm[x+this.perm[y]]%12,A=this.perm[x+h+this.perm[y+i]]%12,B=this.perm[x+1+this.perm[y+1]]%12,C=.5-r*r-s*s;0>C?e=0:(C*=C,e=C*C*this.dot(this.grad3[z],r,s));var D=.5-t*t-u*u;0>D?f=0:(D*=D,f=D*D*this.dot(this.grad3[A],t,u));var E=.5-v*v-w*w;return 0>E?g=0:(E*=E,g=E*E*this.dot(this.grad3[B],v,w)),70*(e+f+g)},c.dot=function(a,b,c){return a[0]*b+a[1]*c},b.exports=c},{}],4:[function(a,b){function c(a,b){this.context=a,this.node=a.createConvolver(),this.node.normalize=!0}c.prototype.setEffect=function(a){var b;switch(a){case 1:b=this.context.createBuffer(2,.01*this.context.sampleRate,this.context.sampleRate);break;case 2:b=this.context.createBuffer(2,1*this.context.sampleRate,this.context.sampleRate);break;case 3:b=this.context.createBuffer(2,3*this.context.sampleRate,this.context.sampleRate);break;case 4:b=this.context.createBuffer(2,6*this.context.sampleRate,this.context.sampleRate);break;case 5:b=this.context.createBuffer(2,12*this.context.sampleRate,this.context.sampleRate);break;default:return void(this.node.buffer=null)}for(var c=b.getChannelData(0),d=b.getChannelData(1),e=0,f=b.length;f>e;e++)c[e]=2*Math.random()-1,d[e]=2*Math.random()-1;this.node.buffer=b},b.exports=c},{}],5:[function(a,b){function c(a,b){this.node=a.createDelay()}c.prototype.setDelay=function(a){this.node.delayTime.value=a},b.exports=c},{}],6:[function(a,b){function c(a,b){var c=b||{};this.node=a.createGain(),this.node.gain.value="undefined"===c.value?.1:c.value}c.prototype.changeGain=function(a){this.node.gain.value=a},b.exports=c},{}],7:[function(a,b){function c(a,b){var c=b||{};this.node=a.createOscillator(),this.node.type=c.type||"sine",this.node.frequency.value="undefined"!==c.frequency?c.frequency:150,this._isPlaying=!1}c.prototype.play=function(){this.node.start(0)},c.prototype.stop=function(){this.node.stop(0)},c.prototype.toggle=function(){this._isPlaying?this.stop():this.play(),this._isPlaying=!this._isPlaying},c.prototype.changeFrequency=function(a){this.node.frequency.value=a},b.exports=c},{}],8:[function(a,b){function c(){this.name="Player",this.gain=null,this.oscA=null,this.oscB=null,this.convolver=null,this.delay=null,this.clock=0}var d=a("./convolver"),e=a("./delay"),f=a("./gain"),g=a("./oscillator"),h=a("quietriot"),i=a("drawing-utils-lib");c.audio_context=null,c.prototype.init=function(a){var b=a||{},h=c.audio_context;this.perlin="undefined"!=typeof b.perlin?b.perlin:!0,this.reverb="undefined"!=typeof b.reverb?b.reverb:4,this.delayTime=b.delayTime||0,this.oscAFreq="undefined"!=typeof b.oscAFreq?b.oscAFreq:150,this.oscBFreq="undefined"!=typeof b.oscBFreq?b.oscBFreq:200,this.oscARate="undefined"!=typeof b.oscARate?b.oscARate:.001,this.oscBRate="undefined"!=typeof b.oscBRate?b.oscBRate:-.001,this.freqMin="undefined"!=typeof b.freqMin?b.freqMin:150,this.freqMax="undefined"!=typeof b.freqMax?b.freqMax:200,this.volume="undefined"!=typeof b.volume?b.volume:.25,this.volumeMin="undefined"!=typeof b.volumeMin?b.volumeMin:.5,this.volumeMax="undefined"!=typeof b.volumeMax?b.volumeMax:.75,this.beforeStep=b.beforeStep||function(){},this.gain=new f(h),this.oscA=new g(h),this.oscB=new g(h),this.convolver=new d(h),this.delay=new e(h),this.oscA.toggle(),this.oscB.toggle(),this.convolver.setEffect(this.reverb),this.delay.setDelay(this.delayTime),this.gain.changeGain(this.volume),this.oscA.changeFrequency(this.oscAFreq),this.oscB.changeFrequency(this.oscBFreq),this.configure(h),this.perlin&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,this._loop())},c.prototype.configure=function(a){this._connect(this.gain.node,a.destination),this._connect(this.delay.node,this.gain.node),this._connect(this.convolver.node,this.delay.node),this._connect(this.oscA.node,this.convolver.node),this._connect(this.oscB.node,this.convolver.node)},c.prototype._connect=function(a,b){a.connect(b)},c.prototype._loop=function(){this.beforeStep.call(this);var a=i.map(h.noise(this.clock*this.oscARate,0),-1,1,this.freqMin,this.freqMax);this.oscA.changeFrequency(a);var b=i.map(h.noise(this.clock*this.oscBRate,0),-1,1,this.freqMin,this.freqMax),c=i.map(h.noise(this.clock*this.oscARate,0),-1,1,this.volumeMin,this.volumeMax);this.oscB.changeFrequency(b),this.gain.changeGain(c),this.clock++,"undefined"!=typeof window.requestAnimationFrame&&window.requestAnimationFrame(this._loop.bind(this))},function(a){try{c.audio_context=new(a.AudioContext||a.webkitAudioContext)}catch(b){throw new Error("No web audio support in this browser")}}(window),b.exports=c},{"./convolver":4,"./delay":5,"./gain":6,"./oscillator":7,"drawing-utils-lib":2,quietriot:3}]},{},[1])(1)});
//# sourceMappingURL=soundbed.min.js.map